{"ast":null,"code":"import _toConsumableArray from\"/Users/yong/development/projects/park-selector-app/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/yong/development/projects/park-selector-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{ParksContext}from\"../contexts/ParksProvider\";import Card from\"./Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ParksCard=function ParksCard(props){var _useContext=useContext(ParksContext),parksData=_useContext.parksData;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),startingPosition=_useState2[0],setStartingPosition=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),trialRandParks=_useState4[0],setTrialRandParks=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),parkHistory=_useState6[0],setParkHistory=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showHistory=_useState8[0],setShowHistory=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),scrollNumMin=_useState10[0],setScrollNumMin=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),scrollNumMax=_useState12[0],setScrollNumMax=_useState12[1];var randomParks=function randomParks(limit){var randParks=[];if(parksData.length>0){for(var i=startingPosition;i<limit+startingPosition;i++){var random=parksData[Math.floor(Math.random()*parksData.length)];randParks.push(random);}}setParkHistory(function(prevHistory){return[].concat(_toConsumableArray(prevHistory),randParks);});console.log(parkHistory);return setTrialRandParks(randParks);};var displayParks=showHistory?parkHistory&&parkHistory.map(function(park,index){if(index<scrollNumMax&&index>=scrollNumMin){return/*#__PURE__*/_jsx(Card,{park:park});}}):trialRandParks.length===props.cardCount&&trialRandParks.map(function(park){return/*#__PURE__*/_jsx(Card,{park:park});});useEffect(function(){setShowHistory(false);setScrollNumMin(parkHistory.length-6);setScrollNumMax(parkHistory.length);randomParks(props.cardCount);},[props.cardCount]);return/*#__PURE__*/_jsx(_Fragment,{children:parksData.length<=0?/*#__PURE__*/_jsx(\"p\",{children:\"Is loading\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[showHistory&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",\"Displaying Parks-list \",scrollNumMin+1,\" to\",\" \",scrollNumMax>parkHistory.length?parkHistory.length:scrollNumMax,\" \",\"of \",parkHistory.length]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid p-5 sm:grid-cols-2 lg:grid-cols-3 gap-8 m-5\",children:displayParks}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mt-4 mb-8 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{// className='w-[fit] h-[56px] m-2 rounded bg-blue-200'\ntype:\"button\",\"data-mdb-ripple\":\"true\",\"data-mdb-ripple-color\":\"light\",className:\"inline-block mx-3 font-normal px-6 py-2.5 bg-sky-400 text-white sm:font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-sky-500 hover:shadow-lg focus:bg-sky-500 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-sky-600 active:shadow-lg transition duration-150 ease-in-out\",onClick:function onClick(){return randomParks(props.cardCount);},children:[\"Add \",props.cardCount,\" New Parks To View\"]}),/*#__PURE__*/_jsx(\"button\",{// className='w-[125px] h-[56px] m-2 rounded border-spacing-0 border-black bg-red-200'\nclassName:\"inline-block px-6 py-2.5 bg-sky-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-sky-500 hover:shadow-lg focus:bg-sky-500 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-sky-600 active:shadow-lg transition duration-150 ease-in-out\",type:\"button\",\"data-mdb-ripple\":\"true\",\"data-mdb-ripple-color\":\"light\",onClick:function onClick(){setShowHistory(true);setScrollNumMin(function(prevScrollNumMin){return prevScrollNumMin-6<=0?0:prevScrollNumMin-6;});setScrollNumMax(function(prevScrollNumMax){return prevScrollNumMax-6<=6?6:prevScrollNumMax-6;});},children:\"Prev Parks\"}),/*#__PURE__*/_jsx(\"button\",{// className='w-[125px] h-[56px] m-2 rounded border bg-green-200'\ntype:\"button\",\"data-mdb-ripple\":\"true\",\"data-mdb-ripple-color\":\"light\",className:\"inline-block mx-3 px-6 py-3.5 bg-sky-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-sky-500 hover:shadow-lg focus:bg-sky-500 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-sky-600 active:shadow-lg transition duration-150 ease-in-out\",onClick:function onClick(){setShowHistory(true);setScrollNumMin(function(prevScrollNumMin){return prevScrollNumMin>=parkHistory.length-6?prevScrollNumMin:prevScrollNumMin+6;});setScrollNumMax(function(prevScrollNumMax){return prevScrollNumMax>=parkHistory.length?prevScrollNumMax:prevScrollNumMax+6;});},children:\"Next Parks\"})]})]})});};export default ParksCard;","map":{"version":3,"names":["React","useContext","useEffect","useState","ParksContext","Card","ParksCard","props","parksData","startingPosition","setStartingPosition","trialRandParks","setTrialRandParks","parkHistory","setParkHistory","showHistory","setShowHistory","scrollNumMin","setScrollNumMin","scrollNumMax","setScrollNumMax","randomParks","limit","randParks","length","i","random","Math","floor","push","prevHistory","console","log","displayParks","map","park","index","cardCount","textAlign","prevScrollNumMin","prevScrollNumMax"],"sources":["/Users/yong/development/projects/park-selector-app/client/src/components/ParksCard.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\"\nimport { ParksContext } from \"../contexts/ParksProvider\"\nimport Card from \"./Card\"\n\nconst ParksCard = (props) => {\n  const { parksData } = useContext(ParksContext)\n  const [startingPosition, setStartingPosition] = useState(0)\n  const [trialRandParks, setTrialRandParks] = useState([])\n  const [parkHistory, setParkHistory] = useState([])\n  const [showHistory, setShowHistory] = useState(false)\n  const [scrollNumMin, setScrollNumMin] = useState(0)\n  const [scrollNumMax, setScrollNumMax] = useState(0)\n\n  const randomParks = (limit) => {\n    let randParks = []\n    if (parksData.length > 0) {\n      for (let i = startingPosition; i < limit + startingPosition; i++) {\n        let random = parksData[Math.floor(Math.random() * parksData.length)]\n        randParks.push(random)\n      }\n    }\n\n    setParkHistory((prevHistory) => [...prevHistory, ...randParks])\n    console.log(parkHistory)\n    return setTrialRandParks(randParks)\n  }\n  const displayParks = showHistory\n    ? parkHistory &&\n      parkHistory.map((park, index) => {\n        if (index < scrollNumMax && index >= scrollNumMin) {\n          return <Card park={park} />\n        }\n      })\n    : trialRandParks.length === props.cardCount &&\n      trialRandParks.map((park) => {\n        return <Card park={park} />\n      })\n\n  useEffect(() => {\n    setShowHistory(false)\n    setScrollNumMin(parkHistory.length - 6)\n    setScrollNumMax(parkHistory.length)\n    randomParks(props.cardCount)\n  }, [props.cardCount])\n\n  return (\n    <>\n      {parksData.length <= 0 ? (\n        <p>Is loading</p>\n      ) : (\n        <>\n          {showHistory && (\n            <div style={{ textAlign: \"center\" }}>\n              <h1>\n                {\" \"}\n                Displaying Parks-list {scrollNumMin + 1} to{\" \"}\n                {scrollNumMax > parkHistory.length\n                  ? parkHistory.length\n                  : scrollNumMax}{\" \"}\n                of {parkHistory.length}\n              </h1>\n            </div>\n          )}\n          <div className='grid p-5 sm:grid-cols-2 lg:grid-cols-3 gap-8 m-5'>\n            {displayParks}\n          </div>\n          <div className='flex justify-center mt-4 mb-8 gap-3'>\n            <button\n              // className='w-[fit] h-[56px] m-2 rounded bg-blue-200'\n              type='button'\n              data-mdb-ripple='true'\n              data-mdb-ripple-color='light'\n              className='inline-block mx-3 font-normal px-6 py-2.5 bg-sky-400 text-white sm:font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-sky-500 hover:shadow-lg focus:bg-sky-500 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-sky-600 active:shadow-lg transition duration-150 ease-in-out'\n              onClick={() => randomParks(props.cardCount)}\n            >\n              Add {props.cardCount} New Parks To View\n            </button>\n            <button\n              // className='w-[125px] h-[56px] m-2 rounded border-spacing-0 border-black bg-red-200'\n              className='inline-block px-6 py-2.5 bg-sky-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-sky-500 hover:shadow-lg focus:bg-sky-500 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-sky-600 active:shadow-lg transition duration-150 ease-in-out'\n              type='button'\n              data-mdb-ripple='true'\n              data-mdb-ripple-color='light'\n              onClick={() => {\n                setShowHistory(true)\n                setScrollNumMin((prevScrollNumMin) =>\n                  prevScrollNumMin - 6 <= 0 ? 0 : prevScrollNumMin - 6\n                )\n                setScrollNumMax((prevScrollNumMax) =>\n                  prevScrollNumMax - 6 <= 6 ? 6 : prevScrollNumMax - 6\n                )\n              }}\n            >\n              Prev Parks\n            </button>\n            <button\n              // className='w-[125px] h-[56px] m-2 rounded border bg-green-200'\n              type='button'\n              data-mdb-ripple='true'\n              data-mdb-ripple-color='light'\n              className='inline-block mx-3 px-6 py-3.5 bg-sky-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-sky-500 hover:shadow-lg focus:bg-sky-500 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-sky-600 active:shadow-lg transition duration-150 ease-in-out'\n              onClick={() => {\n                setShowHistory(true)\n                setScrollNumMin((prevScrollNumMin) =>\n                  prevScrollNumMin >= parkHistory.length - 6\n                    ? prevScrollNumMin\n                    : prevScrollNumMin + 6\n                )\n                setScrollNumMax((prevScrollNumMax) =>\n                  prevScrollNumMax >= parkHistory.length\n                    ? prevScrollNumMax\n                    : prevScrollNumMax + 6\n                )\n              }}\n            >\n              Next Parks\n            </button>\n          </div>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default ParksCard\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}